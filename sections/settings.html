<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="../css/all.css">

    <link rel="stylesheet" href="../css/bootstrap-material-design.css">
    <!-- <link rel="stylesheet" href="../../css/main.css"> -->

    <title>Login</title>
  </head>

  <body>

    <div class="container-fluid">
      <div class="row">
        <div class="col">
          <button type="button" class="btn btn-main btn-block btn-sm " style="background-color: #2a53ff; color: white" name="button" onclick="window.location.replace('index.html')" id="40">Goto Dashboard</button>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <br>
      <div class="row">
        <div class="col-12">
          <h2 style="font-weight: 100; font-size: 16px; text-align: center" id="0">Configure your account</h2><hr>
        </div>
      </div>
      <div id="animationWindow"></div>

      <div class="row" id="main_display">
        <div class="col-12">
          <form id="user_settings">
            <div class="col-12">
              <small id="1">Get notifications for (uncheck all for none):</small>
            </div>
            <div class="col-12">
              <div id="checkboxes">
                <div class="custom-control custom-checkbox">
                  <input name="notifications" class="custom-control-input" type="checkbox" id="positive_results" value="positive_results">
                  <label class="custom-control-label" for="positive_results">
                    Positive Results
                  </label>
                </div>

                <div class="custom-control custom-checkbox">
                  <input name="notifications" class="custom-control-input" type="checkbox" id="negative_results" value="negative_results">
                  <label class="custom-control-label" for="negative_results" >
                    Negative Results
                  </label>
                </div>

                <div class="custom-control custom-checkbox">
                  <input name="notifications" class="custom-control-input" type="checkbox" id="error" value="errors">
                  <label class="custom-control-label" for="error">
                    Errors
                  </label>
                </div>

                <div class="custom-control custom-checkbox">
                  <input name="notifications" onclick="disable_other_notification_options()" class="custom-control-input" type="checkbox" id="all" value="all">
                  <label class="custom-control-label" for="all" >
                    All
                  </label>
                </div>
              </div>
              <hr style="width: 5%">
            </div>
            <div class="col-12">
              <small id="1">Update account:</small>
            </div>
            <div class="col-12">
              <!-- <form id="update_account"> -->
                <div class="form-group">
                  <label for="username" style="font-size: 14px">Username</label>
                  <input type="text" class="form-control" id="username" required>
                </div>
                <div class="form-group">
                  <label for="password" style="font-size: 14px">Password</label>
                  <input type="password" class="form-control" id="password" required>
                </div>
                <div class="form-group">
                  <label for="phonenumber" style="font-size: 14px">Phone Number</label>
                  <input type="text" class="form-control" id="phonenumber" required>
                </div>
                <div class="form-group">
                  <label for="email" style="font-size: 14px">Email</label>
                  <input type="text" class="form-control" id="email">
                </div>
                <div class="form-group">
                  <label for="service_provider" style="font-size: 14px">Service Provider</label>
                  <select class="custom-select" id="service_provider">
                    <option></option>
                    <option value="mtn">MTN</option>
                    <option value="orange">Orange</option>
                    <option value="nextel">Nextell</option>
                  </select>
                </div>
              <!-- </form> -->
            </div>
            <div class="col-12 text-center">
              <button type="submit" form="user_settings" style="background-color: #2a53ff; color: white" class="btn btn-main" id="setting_update_btn">Update</button>
            </div>
          </form>
        </div>
      </div>
      <br>
    </div>
    <script src="../js/jquery.js"></script>
    <script src="../js/popper.js" ></script>
    <script src="../js/bootstrap.js"></script>
    <script type="text/javascript" src="../js/bodymovin.min.js"></script>
    <script src="../js/main.js"></script>
    <script src="js/settings.js"></script>
    <script>
      var user = JSON.parse(localStorage.getItem("user"));
      var user_settings = document.forms['user_settings'];
      var notifications = JSON.parse(user.notifications);
      for(var i in notifications) {
        if(notifications[i] == "positive_results")
        document.getElementById("positive_results").checked = true;

        else if(notifications[i] == "negative_results")
        document.getElementById("negative_results").checked = true;

        else if(notifications[i] == "errors")
        document.getElementById("error").checked = true;

        else if(notifications[i] == "all")
        document.getElementById("all").checked = true;

      }

      user_settings.username.value = user.username;
      user_settings.password.value = user.password;
      user_settings.phonenumber.value = user.phonenumber;
      user_settings.email.value = user.email;
      user_settings.service_provider.value = user.service_provider;

      function disable_other_notification_options() {
        if(document.getElementById("all").checked) {
          document.getElementById("positive_results").checked = false;
          document.getElementById("negative_results").checked = false;
          document.getElementById("error").checked = false;
        }
      }
    </script>
  </body>
</html>
