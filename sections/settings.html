<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="../../css/all.css">

    <link rel="stylesheet" href="../../css/bootstrap-material-design.css">
    <!-- <link rel="stylesheet" href="../../css/main.css"> -->

    <title>Login</title>
  </head>

  <body>

    <div class="container-fluid">
      <div class="row">
        <div class="col">
          <button type="button" class="btn btn-main btn-block btn-sm " style="background-color: #2a53ff; color: white" name="button" onclick="window.location.replace('index.html')" id="40">Goto Dashboard</button>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <br>
      <div class="row">
        <div class="col-12">
          <h2 style="font-weight: 100; font-size: 16px; text-align: center" id="0">Configure your account</h2><hr>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <small id="1">Get notifications for (uncheck all for none):</small>
        </div>
        <div class="col-12">
          <div class="container">
            <form id="user_settings">
              <div id="checkboxes">
                <div class="custom-control custom-checkbox">
                  <input name="notifications" class="custom-control-input" type="checkbox" id="positive_results" value="positive_results">
                  <label class="custom-control-label" for="positive_results">
                    Positive Results
                  </label>
                </div>

                <div class="custom-control custom-checkbox">
                  <input name="notifications" class="custom-control-input" type="checkbox" id="negative_results" value="negative_results">
                  <label class="custom-control-label" for="negative_results" >
                    Negative Results
                  </label>
                </div>

                <div class="custom-control custom-checkbox">
                  <input name="notifications" class="custom-control-input" type="checkbox" id="error" value="errors">
                  <label class="custom-control-label" for="error">
                    Errors
                  </label>
                </div>

                <div class="custom-control custom-checkbox">
                  <input name="notifications" onclick="disable_other_notification_options()" class="custom-control-input" type="checkbox" id="all" value="all">
                  <label class="custom-control-label" for="all" >
                    All
                  </label>
                </div>
              </div>
          </div>
          <hr style="width: 5%">
        </div>
        <div class="col-12">
          <small id="1">Update account:</small>
        </div>
        <div class="col-12">
          <!-- <form id="update_account"> -->
            <div class="form-group">
              <label for="username" style="font-size: 14px">Username</label>
              <input type="text" class="form-control" id="username" required>
            </div>
            <div class="form-group">
              <label for="password" style="font-size: 14px">Password</label>
              <input type="password" class="form-control" id="password" required>
            </div>
            <div class="form-group">
              <label for="phonenumber" style="font-size: 14px">Phone Number</label>
              <input type="text" class="form-control" id="phonenumber" required>
            </div>
            <div class="form-group">
              <label for="email" style="font-size: 14px">Email</label>
              <input type="text" class="form-control" id="email">
            </div>
            <div class="form-group">
              <label for="service_provider" style="font-size: 14px">Service Provider</label>
              <select class="custom-select" id="service_provider">
                <option></option>
                <option value="mtn">MTN</option>
                <option value="orange">Orange</option>
                <option value="nextel">Nextell</option>
              </select>
            </div>
          <!-- </form> -->
        </div>
      </div><br>


        <div class="row">
          <div class="col-12 text-center">
            <button type="submit" style="background-color: #2a53ff; color: white" class="btn btn-main" id="setting_update_btn">Update</button>
          </div>
        </div>
      </div>
    </form>
    <script src="../js/main.js"></script>
    <script src="js/settings.js"></script>
    <script>
    var user = JSON.parse(localStorage.getItem("user"));
    var user_settings = document.forms['user_settings'];
    for(var i in user_settings.elements.notifications) {
      if(user_settings.elements.notifications[i].id == "positive_results" && user.notifications[i] == "positive_results") {
        user_settings.elements.notifications[i].checked = true;
      }
      else if(user_settings.elements.notifications[i].id == "negative_results" && user.notifications[i] == "negative_results") {
        user_settings.elements.notifications[i].checked  = true;
      }
      else if(user_settings.elements.notifications[i].id == "error" && user.notifications[i] == "errors") {
        user_settings.elements.notifications[i].checked = true;
      }
      else if(user_settings.elements.notifications[i].id == "all" && user.notifications[i] == "all") {
        user_settings.elements.notifications[i].checked = true;
      }
    }

    user_settings.username.value = user.username;
    user_settings.password.value = user.password;
    user_settings.phonenumber.value = user.phonenumber;
    user_settings.email.value = user.email;
    user_settings.service_provider.value = user.service_provider;

    function disable_other_notification_options() {
      // console.log("Disable other notification options");
      // var notification_forms = document.forms['notification_settings'];
      // var update_account = document.forms['update_account'];
      // if(notification_forms.inputs.all.checked == true) {
      //   console.warn("All has been selected, disabling the others");
      // } else {
      //   console.warn("All has been unchecked, enabling the others");
      // }
    }
    </script>
  </body>
</html>
